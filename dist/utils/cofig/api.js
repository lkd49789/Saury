'use strict';

// 时间格式化
var formatTime = function formatTime(dateTime) {
  var time = new Date(dateTime).getTime() - 8 * 3600000;
  var date = new Date(time);
  var year = date.getFullYear();
  var month = date.getMonth() + 1;
  var day = date.getDate();
  var hour = date.getHours();
  var minute = date.getMinutes();
  var second = date.getSeconds();
  var millisecond = date.getMilliseconds();
  return [year, month, day].map(formatNumber).join('-') + ' ' + [hour, minute, second].map(formatNumber).join(':');
};
var formatTimeSymbol = function formatTimeSymbol(dateTime, symbol) {
  var date = new Date(new Date(dateTime).getTime() - 8 * 3600000);
  var year = date.getFullYear();
  var month = date.getMonth() + 1;
  var day = date.getDate();
  var hour = date.getHours();
  var minute = date.getMinutes();
  var second = date.getSeconds();
  return [year, month, day].map(formatNumber).join(symbol) + ' ' + [hour, minute, second].map(formatNumber).join(':');
};
var formatDate = function formatDate(time) {
  var date = new Date(time).getTime() - 8 * 3600000;
  var time = new Date(date);
  var year = time.getFullYear(),
      month = time.getMonth() + 1,
      //月份是从0开始的
  day = time.getDate(),
      hour = time.getHours(),
      min = time.getMinutes(),
      second = time.getSeconds();
  var item = [year, month, day, hour, min, second];
  return item.map(formatNumber);
};
function beautify_time(argTime) {
  var timestamp = new Date(argTime).getTime() / 1000;
  var mistiming = Math.round(new Date() / 1000) - timestamp;
  var postfix = mistiming > 0 ? '前' : '后';
  mistiming = Math.abs(mistiming);
  var arrr = ['年', '个月', '星期', '天', '小时', '分钟', '秒'];
  var arrn = [31536000, 2592000, 604800, 86400, 3600, 60, 1];

  for (var i = 0; i < 7; i++) {
    var inm = Math.floor(mistiming / arrn[i]);
    if (inm != 0) {
      return inm + arrr[i] + postfix;
    }
  }
};
function beautify_time_1(argTime) {
  var timestamp = new Date(argTime).getTime() / 1000;
  var mistiming = Math.round(new Date() / 1000) - timestamp;
  var postfix = mistiming > 0 ? '前' : '内';
  mistiming = Math.abs(mistiming);
  var arrr = ['年', '个月', '星期', '天', '小时', '分钟', '秒'];
  var arrn = [31536000, 2592000, 604800, 86400, 3600, 60, 1];
  for (var i = 0; i < 7; i++) {
    var inm = Math.floor(mistiming / arrn[i]);
    if (inm != 0) {
      return inm + arrr[i] + postfix;
    }
  }
};
//数组去重
var myDistinct = function myDistinct(arr) {
  var obj = {};
  for (var i = 0; i < arr.length; i++) {
    var cur = arr[i];
    if (obj[cur] == cur) {
      arr.splice(i, 1);
      i--;
      continue;
    }
    obj[cur] = cur;
  }
  obj = null;
  return arr;
};
//数组对象去重
var myObjDistinct = function myObjDistinct(obj1, obj2, key) {
  var result = [];
  for (var i = 0; i < obj1.length; i++) {
    var obj = obj1[i];
    var num = obj[key];
    var flag = false;
    for (var j = 0; j < obj2.length; j++) {
      var aj = obj2[j];
      var n = aj[key];
      if (n == num) {
        flag = true;
        break;
      }
    }
    if (!flag) {
      result.push(obj);
    }
  }
  return result;
};

function formatNumber(n) {
  n = n.toString();
  return n[1] ? n : '0' + n;
}
// 求和
var getSum = function getSum(ar) {
  var arr = ar;
  var sum = arr.reduce(function (prev, curr, idx, arr) {
    return prev + curr;
  });
  return sum;
};
/**
   * 数字转整数 如 100000 转为10万
   * @param {需要转化的数} num 
   * @param {需要保留的小数位数} point 
**/
var tranNumber = function tranNumber(num, point) {
  var numStr = num.toString();
  // 十万以内直接返回 
  if (numStr.length < 6) {
    return numStr;
  }
  //大于8位数是亿
  else if (numStr.length > 8) {
      var decimal = numStr.substring(numStr.length - 8, numStr.length - 8 + point);
      return parseFloat(parseInt(num / 100000000) + '.' + decimal) + '亿';
    }
    //大于6位数是十万 (以10W分割 10W以下全部显示)
    else if (numStr.length > 0) {
        var _decimal = numStr.substring(numStr.length - 4, numStr.length - 4 + point);
        return parseFloat(parseInt(num / 10000) + '.' + _decimal) + '万';
      }
};
//随机生成秘钥
var randomWord = function randomWord(randomFlag, min, max) {
  /*
  ** randomWord 产生任意长度随机字母数字组合
  ** randomFlag-是否任意长度 min-任意长度最小位[固定位数] max-任意长度最大位
  ** xuanfeng 2014-08-28
  */
  var str = "",
      range = min,
      arr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];
  // 随机产生
  if (randomFlag) {
    range = Math.round(Math.random() * (max - min)) + min;
  }
  for (var i = 0; i < range; i++) {
    pos = Math.round(Math.random() * (arr.length - 1));
    str += arr[pos];
  }
  return str;
};
module.exports = {
  formatTime: formatTime,
  formatDate: formatDate,
  beautify_time: beautify_time,
  beautify_time_1: beautify_time_1,
  myDistinct: myDistinct,
  formatTimeSymbol: formatTimeSymbol,
  getSum: getSum,
  myObjDistinct: myObjDistinct,
  tranNumber: tranNumber,
  randomWord: randomWord
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJmb3JtYXRUaW1lIiwiZGF0ZVRpbWUiLCJ0aW1lIiwiRGF0ZSIsImdldFRpbWUiLCJkYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW51dGUiLCJnZXRNaW51dGVzIiwic2Vjb25kIiwiZ2V0U2Vjb25kcyIsIm1pbGxpc2Vjb25kIiwiZ2V0TWlsbGlzZWNvbmRzIiwibWFwIiwiZm9ybWF0TnVtYmVyIiwiam9pbiIsImZvcm1hdFRpbWVTeW1ib2wiLCJzeW1ib2wiLCJmb3JtYXREYXRlIiwibWluIiwiaXRlbSIsImJlYXV0aWZ5X3RpbWUiLCJhcmdUaW1lIiwidGltZXN0YW1wIiwibWlzdGltaW5nIiwiTWF0aCIsInJvdW5kIiwicG9zdGZpeCIsImFicyIsImFycnIiLCJhcnJuIiwiaSIsImlubSIsImZsb29yIiwiYmVhdXRpZnlfdGltZV8xIiwibXlEaXN0aW5jdCIsImFyciIsIm9iaiIsImxlbmd0aCIsImN1ciIsInNwbGljZSIsIm15T2JqRGlzdGluY3QiLCJvYmoxIiwib2JqMiIsImtleSIsInJlc3VsdCIsIm51bSIsImZsYWciLCJqIiwiYWoiLCJuIiwicHVzaCIsInRvU3RyaW5nIiwiZ2V0U3VtIiwiYXIiLCJzdW0iLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsImlkeCIsInRyYW5OdW1iZXIiLCJwb2ludCIsIm51bVN0ciIsImRlY2ltYWwiLCJzdWJzdHJpbmciLCJwYXJzZUZsb2F0IiwicGFyc2VJbnQiLCJyYW5kb21Xb3JkIiwicmFuZG9tRmxhZyIsIm1heCIsInN0ciIsInJhbmdlIiwicmFuZG9tIiwicG9zIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBLElBQUlBLGFBQWEsU0FBYkEsVUFBYSxDQUFDQyxRQUFELEVBQWM7QUFDN0IsTUFBSUMsT0FBTyxJQUFJQyxJQUFKLENBQVNG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SyxHQUF0SyxFQUEySyxHQUEzSyxFQUFnTCxHQUFoTCxFQUFxTCxHQUFyTCxFQUEwTCxHQUExTCxFQUErTCxHQUEvTCxFQUFvTSxHQUFwTSxFQUF5TSxHQUF6TSxFQUE4TSxHQUE5TSxFQUFtTixHQUFuTixFQUF3TixHQUF4TixFQUE2TixHQUE3TixFQUFrTyxHQUFsTyxFQUF1TyxHQUF2TyxFQUE0TyxHQUE1TyxFQUFpUCxHQUFqUCxFQUFzUCxHQUF0UCxFQUEyUCxHQUEzUCxFQUFnUSxHQUFoUSxFQUFxUSxHQUFyUSxFQUEwUSxHQUExUSxFQUErUSxHQUEvUSxFQUFvUixHQUFwUixFQUF5UixHQUF6UixFQUE4UixHQUE5UixFQUFtUyxHQUFuUyxFQUF3UyxHQUF4UyxFQUE2UyxHQUE3UyxFQUFrVCxHQUFsVCxDQUZWO0FBR0E7QUFDQSxNQUFHZ0MsVUFBSCxFQUFjO0FBQ1ZHLFlBQVE5QyxLQUFLQyxLQUFMLENBQVdELEtBQUsrQyxNQUFMLE1BQWlCSCxNQUFJbEQsR0FBckIsQ0FBWCxJQUF3Q0EsR0FBaEQ7QUFDSDtBQUNELE9BQUksSUFBSVksSUFBRSxDQUFWLEVBQWFBLElBQUV3QyxLQUFmLEVBQXNCeEMsR0FBdEIsRUFBMEI7QUFDdEIwQyxVQUFNaEQsS0FBS0MsS0FBTCxDQUFXRCxLQUFLK0MsTUFBTCxNQUFpQnBDLElBQUlFLE1BQUosR0FBVyxDQUE1QixDQUFYLENBQU47QUFDQWdDLFdBQU9sQyxJQUFJcUMsR0FBSixDQUFQO0FBQ0g7QUFDRCxTQUFPSCxHQUFQO0FBQ0QsQ0FsQkQ7QUFtQkFJLE9BQU9DLE9BQVAsR0FBaUI7QUFDZmxGLHdCQURlO0FBRWZ5Qix3QkFGZTtBQUdmRyw4QkFIZTtBQUlmYSxrQ0FKZTtBQUtmQyx3QkFMZTtBQU1mbkIsb0NBTmU7QUFPZnFDLGdCQVBlO0FBUWZaLDhCQVJlO0FBU2ZtQix3QkFUZTtBQVVmTztBQVZlLENBQWpCIiwiZmlsZSI6ImFwaS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIOaXtumXtOagvOW8j+WMllxudmFyIGZvcm1hdFRpbWUgPSAoZGF0ZVRpbWUpID0+IHtcbiAgdmFyIHRpbWUgPSBuZXcgRGF0ZShkYXRlVGltZSkuZ2V0VGltZSgpLSA4ICogMzYwMDAwMDtcbiAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aW1lKTtcbiAgdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKClcbiAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMVxuICB2YXIgZGF5ID0gZGF0ZS5nZXREYXRlKClcbiAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKClcbiAgdmFyIG1pbnV0ZSA9IGRhdGUuZ2V0TWludXRlcygpXG4gIHZhciBzZWNvbmQgPSBkYXRlLmdldFNlY29uZHMoKVxuICB2YXIgbWlsbGlzZWNvbmQgPSBkYXRlLmdldE1pbGxpc2Vjb25kcygpXG4gIHJldHVybiBbeWVhciwgbW9udGgsIGRheV0ubWFwKGZvcm1hdE51bWJlcikuam9pbignLScpICsgJyAnICsgW2hvdXIsIG1pbnV0ZSwgc2Vjb25kXS5tYXAoZm9ybWF0TnVtYmVyKS5qb2luKCc6Jylcbn1cbnZhciBmb3JtYXRUaW1lU3ltYm9sID0gKGRhdGVUaW1lLCBzeW1ib2wpID0+IHtcbiAgdmFyIGRhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZShkYXRlVGltZSkuZ2V0VGltZSgpLSA4ICogMzYwMDAwMCk7XG4gIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpXG4gIHZhciBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDFcbiAgdmFyIGRheSA9IGRhdGUuZ2V0RGF0ZSgpXG4gIHZhciBob3VyID0gZGF0ZS5nZXRIb3VycygpXG4gIHZhciBtaW51dGUgPSBkYXRlLmdldE1pbnV0ZXMoKVxuICB2YXIgc2Vjb25kID0gZGF0ZS5nZXRTZWNvbmRzKClcbiAgcmV0dXJuIFt5ZWFyLCBtb250aCwgZGF5XS5tYXAoZm9ybWF0TnVtYmVyKS5qb2luKHN5bWJvbCkgKyAnICcgKyBbaG91ciwgbWludXRlLCBzZWNvbmRdLm1hcChmb3JtYXROdW1iZXIpLmpvaW4oJzonKVxufVxudmFyIGZvcm1hdERhdGUgPSAodGltZSkgPT4ge1xuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpLmdldFRpbWUoKSAtIDggKiAzNjAwMDAwO1xuICB2YXIgdGltZSA9IG5ldyBEYXRlKGRhdGUpO1xuICB2YXIgeWVhciA9IHRpbWUuZ2V0RnVsbFllYXIoKSxcbiAgICBtb250aCA9IHRpbWUuZ2V0TW9udGgoKSArIDEsLy/mnIjku73mmK/ku44w5byA5aeL55qEXG4gICAgZGF5ID0gdGltZS5nZXREYXRlKCksXG4gICAgaG91ciA9IHRpbWUuZ2V0SG91cnMoKSxcbiAgICBtaW4gPSB0aW1lLmdldE1pbnV0ZXMoKSxcbiAgICBzZWNvbmQgPSB0aW1lLmdldFNlY29uZHMoKTtcbiAgdmFyIGl0ZW0gPSBbeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWluLHNlY29uZF07XG4gIHJldHVybiBpdGVtLm1hcChmb3JtYXROdW1iZXIpXG59O1xuZnVuY3Rpb24gYmVhdXRpZnlfdGltZShhcmdUaW1lKSB7XG4gIHZhciB0aW1lc3RhbXAgPSBuZXcgRGF0ZShhcmdUaW1lKS5nZXRUaW1lKCkgLyAxMDAwO1xuICB2YXIgbWlzdGltaW5nID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpIC8gMTAwMCkgLSB0aW1lc3RhbXA7XG4gIHZhciBwb3N0Zml4ID0gbWlzdGltaW5nID4gMCA/ICfliY0nIDogJ+WQjidcbiAgbWlzdGltaW5nID0gTWF0aC5hYnMobWlzdGltaW5nKVxuICB2YXIgYXJyciA9IFsn5bm0JywgJ+S4quaciCcsICfmmJ/mnJ8nLCAn5aSpJywgJ+Wwj+aXticsICfliIbpkp8nLCAn56eSJ107XG4gIHZhciBhcnJuID0gWzMxNTM2MDAwLCAyNTkyMDAwLCA2MDQ4MDAsIDg2NDAwLCAzNjAwLCA2MCwgMV07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICB2YXIgaW5tID0gTWF0aC5mbG9vcihtaXN0aW1pbmcgLyBhcnJuW2ldKVxuICAgIGlmIChpbm0gIT0gMCkge1xuICAgICAgcmV0dXJuIGlubSArIGFycnJbaV0gKyBwb3N0Zml4XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gYmVhdXRpZnlfdGltZV8xKGFyZ1RpbWUpIHtcbiAgdmFyIHRpbWVzdGFtcCA9IG5ldyBEYXRlKGFyZ1RpbWUpLmdldFRpbWUoKSAvIDEwMDA7XG4gIHZhciBtaXN0aW1pbmcgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkgLyAxMDAwKSAtIHRpbWVzdGFtcDtcbiAgdmFyIHBvc3RmaXggPSBtaXN0aW1pbmcgPiAwID8gJ+WJjScgOiAn5YaFJ1xuICBtaXN0aW1pbmcgPSBNYXRoLmFicyhtaXN0aW1pbmcpXG4gIHZhciBhcnJyID0gWyflubQnLCAn5Liq5pyIJywgJ+aYn+acnycsICflpKknLCAn5bCP5pe2JywgJ+WIhumSnycsICfnp5InXTtcbiAgdmFyIGFycm4gPSBbMzE1MzYwMDAsIDI1OTIwMDAsIDYwNDgwMCwgODY0MDAsIDM2MDAsIDYwLCAxXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICB2YXIgaW5tID0gTWF0aC5mbG9vcihtaXN0aW1pbmcgLyBhcnJuW2ldKVxuICAgIGlmIChpbm0gIT0gMCkge1xuICAgICAgcmV0dXJuIGlubSArIGFycnJbaV0gKyBwb3N0Zml4XG4gICAgfVxuICB9XG59O1xuLy/mlbDnu4Tljrvph41cbnZhciBteURpc3RpbmN0ID0gKGFycikgPT4ge1xuICB2YXIgb2JqID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGN1ciA9IGFycltpXTtcbiAgICBpZiAob2JqW2N1cl0gPT0gY3VyKSB7XG4gICAgICBhcnIuc3BsaWNlKGksIDEpO1xuICAgICAgaS0tO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIG9ialtjdXJdID0gY3VyO1xuICB9XG4gIG9iaiA9IG51bGw7XG4gIHJldHVybiBhcnI7XG59XG4vL+aVsOe7hOWvueixoeWOu+mHjVxudmFyIG15T2JqRGlzdGluY3QgPSAob2JqMSwgb2JqMiwga2V5KSA9PiB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoxLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG9iaiA9IG9iajFbaV07XG4gICAgdmFyIG51bSA9IG9ialtrZXldO1xuICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoyLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgYWogPSBvYmoyW2pdO1xuICAgICAgdmFyIG4gPSBhaltrZXldO1xuICAgICAgaWYgKG4gPT0gbnVtKSB7XG4gICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmbGFnKSB7XG4gICAgICByZXN1bHQucHVzaChvYmopO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE51bWJlcihuKSB7XG4gIG4gPSBuLnRvU3RyaW5nKClcbiAgcmV0dXJuIG5bMV0gPyBuIDogJzAnICsgblxufVxuLy8g5rGC5ZKMXG52YXIgZ2V0U3VtID0gKGFyKSA9PiB7XG4gIHZhciBhcnIgPSBhclxuICB2YXIgc3VtID0gYXJyLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyciwgaWR4LCBhcnIpIHtcbiAgICByZXR1cm4gcHJldiArIGN1cnI7XG4gIH0pXG4gIHJldHVybiBzdW07XG59XG4vKipcbiAgICog5pWw5a2X6L2s5pW05pWwIOWmgiAxMDAwMDAg6L2s5Li6MTDkuIdcbiAgICogQHBhcmFtIHvpnIDopoHovazljJbnmoTmlbB9IG51bSBcbiAgICogQHBhcmFtIHvpnIDopoHkv53nlZnnmoTlsI/mlbDkvY3mlbB9IHBvaW50IFxuKiovXG5sZXQgdHJhbk51bWJlciA9IChudW0sIHBvaW50KSA9PiB7XG4gIGxldCBudW1TdHIgPSBudW0udG9TdHJpbmcoKVxuICAvLyDljYHkuIfku6XlhoXnm7TmjqXov5Tlm54gXG4gIGlmIChudW1TdHIubGVuZ3RoIDwgNikge1xuICAgIHJldHVybiBudW1TdHI7XG4gIH1cbiAgLy/lpKfkuo445L2N5pWw5piv5Lq/XG4gIGVsc2UgaWYgKG51bVN0ci5sZW5ndGggPiA4KSB7XG4gICAgbGV0IGRlY2ltYWwgPSBudW1TdHIuc3Vic3RyaW5nKG51bVN0ci5sZW5ndGggLSA4LCBudW1TdHIubGVuZ3RoIC0gOCArIHBvaW50KTtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChwYXJzZUludChudW0gLyAxMDAwMDAwMDApICsgJy4nICsgZGVjaW1hbCkgKyAn5Lq/JztcbiAgfVxuICAvL+Wkp+S6jjbkvY3mlbDmmK/ljYHkuIcgKOS7pTEwV+WIhuWJsiAxMFfku6XkuIvlhajpg6jmmL7npLopXG4gIGVsc2UgaWYgKG51bVN0ci5sZW5ndGggPiAwKSB7XG4gICAgbGV0IGRlY2ltYWwgPSBudW1TdHIuc3Vic3RyaW5nKG51bVN0ci5sZW5ndGggLSA0LCBudW1TdHIubGVuZ3RoIC0gNCArIHBvaW50KVxuICAgIHJldHVybiBwYXJzZUZsb2F0KHBhcnNlSW50KG51bSAvIDEwMDAwKSArICcuJyArIGRlY2ltYWwpICsgJ+S4hyc7XG4gIH1cbn1cbi8v6ZqP5py655Sf5oiQ56eY6ZKlXG5sZXQgcmFuZG9tV29yZD0ocmFuZG9tRmxhZywgbWluLCBtYXgpPT57XG4gIC8qXG4qKiByYW5kb21Xb3JkIOS6p+eUn+S7u+aEj+mVv+W6pumaj+acuuWtl+avjeaVsOWtl+e7hOWQiFxuKiogcmFuZG9tRmxhZy3mmK/lkKbku7vmhI/plb/luqYgbWluLeS7u+aEj+mVv+W6puacgOWwj+S9jVvlm7rlrprkvY3mlbBdIG1heC3ku7vmhI/plb/luqbmnIDlpKfkvY1cbioqIHh1YW5mZW5nIDIwMTQtMDgtMjhcbiovXG4gIHZhciBzdHIgPSBcIlwiLFxuICAgICAgcmFuZ2UgPSBtaW4sXG4gICAgICBhcnIgPSBbJzAnLCAnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknLCAnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnLCAnZycsICdoJywgJ2knLCAnaicsICdrJywgJ2wnLCAnbScsICduJywgJ28nLCAncCcsICdxJywgJ3InLCAncycsICd0JywgJ3UnLCAndicsICd3JywgJ3gnLCAneScsICd6JywgJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddO1xuICAvLyDpmo/mnLrkuqfnlJ9cbiAgaWYocmFuZG9tRmxhZyl7XG4gICAgICByYW5nZSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChtYXgtbWluKSkgKyBtaW47XG4gIH1cbiAgZm9yKHZhciBpPTA7IGk8cmFuZ2U7IGkrKyl7XG4gICAgICBwb3MgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoYXJyLmxlbmd0aC0xKSk7XG4gICAgICBzdHIgKz0gYXJyW3Bvc107XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmb3JtYXRUaW1lLFxuICBmb3JtYXREYXRlLFxuICBiZWF1dGlmeV90aW1lLFxuICBiZWF1dGlmeV90aW1lXzEsXG4gIG15RGlzdGluY3QsXG4gIGZvcm1hdFRpbWVTeW1ib2wsXG4gIGdldFN1bSxcbiAgbXlPYmpEaXN0aW5jdCxcbiAgdHJhbk51bWJlcixcbiAgcmFuZG9tV29yZFxufVxuXG4iXX0=